!1 Stakeholder
!include -seamless StakeHolders

!1 Rollen und Personen
!include -seamless PersonAndRole

!1 Anforderungen
Anforderungen an das Kartenportlet
1 Grundgedanken:
1. Jeder angemeldete & beigetretene Benutzer kann in eine bestehende Karte oder in ein bestehendes Bild einen Marker setzen und diese mit einem Link zu einem Text versehen, den er dazu verfasst hat.
2. Jeder angemeldete & beigetretene Benutzer kann in eine bestehende Karte oder in ein bestehendes Bild einfache grafische Figuren einzeichnen (z.B. Linien oder Flächen) und diese mit einem Link zu seinem Text versehen.
3. Anstelle einer Karte kann vom Admin auch ein anderes Bild (z.B. Zeichnung, Foto) zugrunde gelegt werden.
4. Wenn Karte oder Bild vergrößert / verkleinert werden, wird die hinzugefügte grafische Figur im gleichen Maßstab ebenfalls vergrößert/verkleinert.

2 Festlegungen:
2.1 Marker
Es sind bis zu 1.000 Marker pro Karte (Bild) zulässig.
Der Moderator kann per Schraubenschlüssel die Zahl einschränken. Er kann sie auch auf Null setzen, so dass kein Marker möglich ist.
Ein Marker hat einen Namen, eine Kurzbeschreibung und einen Link.
Die Bezeichnungen der Marker erscheinen beim Klick auf den Marker als modales Fenster über der Karte, das aktiv wieder weggeklickt werden muss.

2.2 Overlay
Es sind bis zu 99 Karten-Overlays pro Karte (Bild) zulässig.
Der Admin (Moderator) kann per Schraubenschlüssel die Zahl einschränken. Er kann sie auch auf Null setzen, so dass kein Overlay möglich ist.
Die Bezeichnungen der Overlays können als TAB oben am Rand der Karte/Bild dargestellt werden, die eine Nummer und den Anfang der entsprechenden Beschriftung des Overlays tragen.
Ein Klick auf den Tab zeigt den Overlay über der Karte / Bild. Das Overlay wird dabei transparent über der Karte dargestellt.
Option: Die Transparenz (in Prozent) kann vom Admin per Einstellung (mit dem Schraubenschlüssel) für alle Overlays gemeinsam festgelegt werden.
Es ist zulässig, mehrere Tabs anzuklicken / anzuzeigen.
Ein zweiter Klick auf einen Tab verbirgt das entsprechende Overlay wieder.
Der Admin (oder der Owner) kann ein Overlay auch wieder löschen.
Ein Overlay hat einen Text, wie er bei einem Marker bereits realisiert ist, also Name, Kurzbeschreibung und Link. Der erscheint in einem modalen Fenster, wenn der Tab angeklickt wurde und der Overlay angezeigt wird.
Ein Overlay kann vom Benutzer online erstellt werden, indem er direkt über die Karte zeichnet, die in einer beliebigen Vergrößerung angezeigt wird.
Dazu stehen eine Reihe von Zeichentools zur Verfügung. (Leaf-let?)
Ein Overlay kann vom Benutzer aber auch als File (png, jpg) hochgeladen werden:
Zum Einfügen wird die Karte / das Bild dann in eine beliebige Vergrößerung versetzt und das hochgeladene Overlay in Höhe und Breite dem aktuellen Bild angepasst, so dass es vollständig innerhalb des gerade sichtbaren Kartenausschnittes zu sehen ist.
Reihenfolge der Overlays übereinander, wenn mehrere existieren?
Schön wäre es, wenn es die Reihenfolge des Anklickens ist. Wenn danach ein dazwischenliegendes Overlay wieder weggeklickt wird und erneut angeklickt wird, wird es als oberstes angezeigt: Immer das zuletzt geklickte ist das oberste. Die Karte selbst ist das unterste.

3 Option zum Hochladen
Beim Hochladen oder beim direkten Einzeichnen wird in der DB eine ID vergeben, die an die Karte (oder das Bild) gebunden wird. Das hochgeladene oder gezeichnete Overlay hat einen Namen, wie jedes andere Objekt auch und kann (z.B. vom Admin auch einem anderen Bild hinzugefügt werden, indem der Admin dieses Bild zur anderen Karte hinzufügt, anstatt es neu hochzuladen.
Kommentar: Damit kann ein Admin aus einer Karte, die inzwischen zu viele Overlays hat, eine weitere Karte anlegen und einige Overlays dorthin verschieben. Er kann damit die Overlays sinnvoll bündeln.
Ein Benutzer, der ein Overlay hochladen möchte klickt auf einen noch nicht belegten Tab. Dazu muss immer ein leerer Tab vorhanden sein. Wäre er schon belegt, würde das entsprechende Overlay angezeigt. Ist er noch nicht belegt, erscheint stattdessen das Menü zum Hochladen. Will er nicht hochladen oder abbrechen, kann er das Menü einfach wegklicken. Der Tab bleibt dann geschlossen und unbelegt.
Was ist, wenn ein zweiter Benutzer gleichzeitig auf denselben Tab ein Overlay hochladen will? Es gilt das optimistische Prinzip: der erste gewinnt. Der zweite wird aufgefordert, es mit dem nächsten Tab nochmals zu versuchen.
Ein Benutzer, der ein Overlay hochlädt, sollte das Directory, wohin es geladen wird und die dort bereits befindlichen Files nicht zu Gesicht bekommen. Das Hochladen sollte also "halb-blind" erfolgen. Anders der Admin (Moderator), der Einstellungen machen darf: Er sollte das Directory zu sehen bekommen. Der Benutzer kann also nur ein einziges Overlay hochladen und muss danach die ganze Prozedur neu starten, wenn er ein zweites hochladen will. Der Admin kann mehrere auf einmal hochladen (wie bei allen anderen Dokumenten / Bildern bisher auch schon).
Wenn ein Overlay nicht direkt eingezeichnet, sondern hochgeladen wird, muss es auf die darunter liegende Karte (Bild) angepasst werden können.
1. Es soll mit der Maus grob und mit den Pfeiltasten fein verschoben werden können.
2. Seine Höhe und seine Breite soll angepasst werden können
3. Außerdem soll es um die linke untere Ecke gedreht werden können.
4. Zur Größenanpassung und Winkelverstellung sind sowohl grobe als auch feine Schritte vorzusehen, die sich um den Faktor 10 unterscheiden.
5. Nachdem die Größe und der Winkel angepasst sind, muss es fixiert werden können.
Ab diesem Moment ist die darunter liegende Karte (Bild) mit dem neuen Overlay fest verbunden. Beide werden dann gemeinsam vergrößert / verkleinert.

!1 Glossar
!include -seamless GlosSar

!1 Quelle
https://owncloud.politaktiv.org/index.php/apps/files?dir=%2FPolitaktiv%2FProduktmanagement
